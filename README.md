## Общее описание:

Инструмент управления продуктовым ассортиментом для интернет-магазина. Он автоматизирует процесс обновления информации о товарах в магазине Ozon, включая список товаров, цены и остатки на складе.

Вначале код получает список товаров из магазина, используя уникальные идентификаторы продавца и клиента. Затем, он обновляет информацию о наличии товаров и их ценах на основе данных, полученных из внешнего источника (в данном случае, с сайта Casio). Код также включает функции для преобразования цен из строки в числовой формат и разбиения больших списков на более мелкие части для эффективной обработки.

Инструмент предназначен для упрощения процесса управления ассортиментом товаров в интернет-магазине, автоматизируя рутинные задачи и обеспечивая актуальность информации о товарах.

Ключевые функции инструмента включают:

    Получение списка продуктов из Яндекс.Маркета: Код автоматически извлекает данные о продуктах из магазина на Яндекс.Маркете, используя уникальные идентификаторы кампании и токены доступа.

    Обновление остатков товаров: Инструмент позволяет обновить информацию о наличии товаров на складе. Данные о наличии могут быть получены из внешнего источника (например, с сайта поставщика).

    Обновление цен товаров: Код также позволяет обновлять цены товаров. Цены могут быть преобразованы из различных форматов для корректного отображения на Яндекс.Маркете.

    Управление остатками и ценами для различных типов кампаний: Инструмент поддерживает работу с разными типами кампаний на Яндекс.Маркете, такими как FBS (Fulfillment By Seller) и DBS (Direct Business Sales).

Этот инструмент упрощает процесс управления продуктами на Яндекс.Маркете, автоматизируя рутинные задачи и обеспечивая актуальность информации о товарах для продавцов.


## Описание скрипта в файле seller.py:

Более детальное описание функций:
get_product_list(page, campaign_id, access_token) - получает список товаров из API Яндекс Маркета на основе указанного ID кампании и токена доступа. Функция возвращает JSON-объект с результатом.

update_stocks(stocks, campaign_id, access_token) - обновляет уровни остатков для набора товаров в API Яндекс Маркета на основе указанного ID кампании и токена доступа. Функция возвращает JSON-объект с результатом.

update_price(prices, campaign_id, access_token) - обновляет цены для набора товаров в API Яндекс Маркета на основе указанного ID кампании и токена доступа. Функция возвращает JSON-объект с результатом.

get_offer_ids(campaign_id, market_token) - получает ID предложений для заданного ID кампании и маркет-токена. Функция возвращает список ID предложений.

create_stocks(watch_remnants, offer_ids, warehouse_id) - создает список уровней остатков для набора товаров на основе указанных остатков, ID предложений и ID склада. Функция возвращает список уровней остатков.

create_prices(watch_remnants, offer_ids) - создает список цен для набора товаров на основе указанных остатков и ID предложений. Функция возвращает список цен.

async def upload_prices(watch_remnants, campaign_id, market_token) - загружает цены для набора товаров в API Яндекс Маркета на основе указанных остатков, ID кампании и маркет-токена. Функция возвращает список цен.

async def upload_stocks(watch_remnants, campaign_id, market_token, warehouse_id) - загружает уровни остатков для набора товаров в API Яндекс Маркета на основе указанных остатков, ID кампании, маркет-токена и ID склада. Функция возвращает два списка уровней остатков: один с ненулевыми уровнями остатков и один со всеми уровнями остатков.

## Описание скрипта в файле market.py:

Импортируются необходимые модули: datetime, logging.config, Env из библиотеки environs и функция download_stock из модуля seller.
Импортируется модуль requests для отправки HTTP-запросов.
Импортируются функции divide и price_conversion из модуля seller.
Инициализируется объект logger для записи логов.
Определяются функции:
get_product_list: Получает список продуктов из магазина на Яндекс.Маркет.
update_stocks: Обновляет остатки товаров.
update_price: Обновляет цены товаров.
get_offer_ids: Получает артикулы товаров Яндекс Маркета.
create_stocks: Создает данные об остатках товаров.
create_prices: Создает данные о ценах товаров.
upload_prices: Загружает данные о ценах товаров на Яндекс.Маркет.
upload_stocks: Загружает данные об остатках товаров на Яндекс.Маркет.
main: Основная функция скрипта, которая вызывает остальные функции для обновления остатков и цен на Яндекс.Маркет.
В функции main():
Инициализируется объект Env для работы с переменными окружения.
Получаются значения переменных окружения: MARKET_TOKEN, FBS_ID, DBS_ID, WAREHOUSE_FBS_ID, WAREHOUSE_DBS_ID.
Вызывается функция download_stock() для получения данных остатков товаров.
В блоке try-catch обрабатываются исключения и выполняются следующие действия:
Для кампании FBS:
Получаются артикулы товаров Яндекс.Маркет для кампании FBS.
Создаются данные об остатках товаров для кампании FBS.
Обновляются остатки товаров для кампании FBS.
Загружаются данные о ценах товаров для кампании FBS.
Для кампании DBS:
Получаются артикулы товаров Яндекс.Маркет для кампании DBS.
Создаются данные об остатках товаров для кампании DBS.
Обновляются остатки товаров для кампании DBS.
Загружаются данные о ценах товаров для кампании DBS.
Различные типы исключений обрабатываются и выводятся сообщения об ошибках.
Если файл market.py запускается как основная программа, вызывается функция main().
Описание содержит только общее объяснение того, что делает скрипт и какие функции в нем присутствуют. Детали реализации функций и переменных не предоставляются.
